@using Indpro.Attendance.Entity
@model Indpro.Attendance.WebApp.Models.ProfileLogModel


<div class="container">
    <div class="row">
        <div class="col-md-8 border">
            <br />
            @using (Html.BeginForm("Add", "Log", FormMethod.Post))
            {
                <div class="row">
                    <div class="col-md-8">
                        @Html.RadioButtonFor(l => l.LogType, LogType.Work, new { @id = "rdoWork" })
                        <label for="rdoWork">Work</label>&nbsp;&nbsp;
                        @Html.RadioButtonFor(l => l.LogType, LogType.Tea, new { @id = "rdoTea" })
                        <label for="rdoTea">Tea</label>&nbsp;&nbsp;
                        @Html.RadioButtonFor(l => l.LogType, LogType.Lunch, new { @id = "rdoLunch" })
                        <label for="rdoLunch">Lunch</label>&nbsp;&nbsp;
                        @Html.RadioButtonFor(l => l.LogType, LogType.Others, new { @id = "rdoOthers" })
                        <label for="rdoOthers">Others</label>
                    </div>
                    <div class="col-md-2">@Html.ValidationMessageFor(u => u.LogType)</div>
                    <div class="col-md-3">@Html.Label("Select Date")</div>
                    <div class="col-md-4">@Html.TextBoxFor(l => l.LogDate, new { @class = "form-control datetimepicker" })</div>
                </div>

                <input type="submit" id="btnIn" name="command" value="Click here to Login Time" /> <span>&nbsp;&nbsp;&nbsp;</span>
                <input type="submit" id="btnOut" name="command" value="Click here to Logout Time" />

                if (!string.IsNullOrEmpty(@Model.Error))
                {
                    <div class="mt10 row">
                        <div class="col-md-5 alert-danger">@Model.Error</div>
                    </div>
                }
            }
            <br />
        </div>
    </div>
</div>

<br />

<div class="container">
    <div class="row">
        <div class="col-md-2">@Html.Label("Select Date")</div>
        <div class="col-md-2">@Html.EditorFor(l => l.LogListDate, "0:yyyy-MM-dd", new { @maxlength = "10", @class = "form-control datepicker" })</div>
        <div class="col-md-2"><input id="btnLoadReport" type="button" value="Show" class="btn btn-info" onclick="LoadLogList();" /></div>

        <div class="row">
            <div class="col-md-8 border">
                <br />
                <table class="table table-bordered table-striped">
                    <tr>
                        <th>LogType</th>
                        <th>LoggedTime</th>
                        <th>IsInTime</th>
                    </tr>
                    @foreach (var PLD in @Model.LogList)
                    {
                        <tr>
                            <td>@PLD.LogType</td>
                            <td>@PLD.LoggedTime</td>
                            <td>@(PLD.IsInTime ? "Start" : "End")</td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

    function LoadLogList() {
        location.href = '/Log?reportDate=' + document.getElementById('LogListDate').value;
    }
</script>